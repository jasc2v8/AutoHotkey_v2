
runner := RunSkipUAC("Worker.ahk")


TestControl

	pipe:=NamedPipe(AHK_RunSkipUAC)
	RunTask(AHK_RunSkipUAC)
	pipe.Wait()
	pipe.Send(WorkerPath)
	pipe.Close()
	
	pipe:=NamedPipe(WORKER)
	pipe.Wait()
	pipe.Send(Profile, Actions)
	output:=pipe.Receive()
	process output
	pipe.Send("TERMINATE")
	ExitApp

AHK_RunSkipUAC.Program:=RunSkipUAC.ahk

RunSkipUAC.ahk
	pipe:=NamedPipe(AHK_RunSkipUAC)
	pipe.Create()
	request:=pipe.Receive(WorkerPath)
	RunNoWait((WorkerPath)
	pipe.Close
	ExitApp

TestWorker
	global SyncBackPath:=...SyncBack.exe
	
	pipe:=NamedPipe(WORKER)
	pipe.Create()
	profile, actions:=pipe.Receive()
	
	output:=Run(SyncBackPath, profile)
	Handle actions
	
	path.Send(ACK: output)
	pipe.Receive() ; "terminate"
	path.Close()
	ExitApp
	
	